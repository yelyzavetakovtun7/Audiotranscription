@startuml VoiseToText Process Diagram

start

:1. Користувач відкриває застосунок;

if (Новий користувач?) then (так)
  :1.1 Реєстрація;
  :1.2 Вхід в систему;
else (ні)
  :1.3 Вхід в систему;
endif

:2. Завантаження аудіо файлу;

fork
  :2.1 Перевірка формату файлу;
fork again
  :2.2 Валідація розміру файлу;
end fork

if (Файл валідний?) then (так)
  :3. Запуск процесу транскрибування;
  :3.1 Відображення прогресу;
  :3.2 Отримання результату;
  :3.3 Відображення тексту;
  
  fork
    :4.1 Можливість редагування;
    :4.2 Автоматичне збереження версій;
  fork again
    :4.3 Відтворення аудіо;
  fork again
    :4.4 Синхронізація тексту з аудіо;
  fork again
    :4.5 Перегляд історії змін;
    if (Відновлення версії?) then (так)
      :4.5.1 Відновлення попередньої версії;
      :4.5.2 Підтвердження відновлення;
    else (ні)
      :4.5.3 Повернення до поточної версії;
    endif
  fork again
    :4.6 Експорт тексту;
    :4.6.1 Вибір формату експорту;
    :4.6.2 Збереження експортованого файлу;
  end fork
  
else (ні)
  :2.3 Повідомлення про помилку;
  stop
endif

:5. Збереження результату;
:5.1 Оновлення історії;
:5.2 Закриття сесії;

stop

@enduml 